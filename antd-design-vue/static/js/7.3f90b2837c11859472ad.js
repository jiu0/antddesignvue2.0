webpackJsonp([7],{eJhZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7t+N"),o=n.n(a),i={name:"BaiduMapNavigation",data:function(){return{address_detail:null,center:{lng:"",lat:""},nodata:!0}},mounted:function(){this.$nextTick(function(){var t=this;t.getNavigation(),t.getParentDom(),setTimeout(function(){t.getLocation()},3e3);var e,n=new BMap.Map("allmap"),a=new BMap.Point(121.51713,31.079655);n.centerAndZoom(a,15),n.enableScrollWheelZoom(),n.addControl(new BMap.OverviewMapControl({isOpen:!1,anchor:BMAP_ANCHOR_BOTTOM_RIGHT})),n.addControl(new BMap.NavigationControl),n.addControl(new BMap.ScaleControl),new BMap.Autocomplete({input:"suggestId",location:n}).addEventListener("onconfirm",function(a){var o=a.item.value;e=o.province+o.city+o.district+o.street+o.business,this.address_detail=e,function(){n.clearOverlays();var a=new BMap.LocalSearch(n,{onSearchComplete:function(){t.center=a.getResults().getPoi(0).point,n.centerAndZoom(t.center,18),n.addOverlay(new BMap.Marker(t.center))}});a.search(e),console.log("local",a),n.addEventListener("click",function(e){console.log(e),console.log("lng",t.center.lng),console.log("lat",t.center.lat),t.address()})}()}),n.addEventListener("click",function(e){console.log("this",this),console.log("th",t),console.log("point0",e.point),t.center.lng=e.point.lng,t.center.lat=e.point.lat,console.log("point1",e.point.lng),console.log("point2",e.point.lat),t.address()})})},methods:{getParentDom:function(){this.$refs.BaiduMapNavigation.parentNode.style.position="relative"},getLocation:function(){this.nodata=!1},getNavigation:function(){},address:function(){var t=this;o.a.ajax({type:"get",async:!1,url:"http://api.map.baidu.com/geocoder/v2/",dataType:"jsonp",data:{location:this.center.lat+","+this.center.lng,output:"json",pois:"1",ak:"QsVXkxxkfjL9W9A1EbsXsY80vtEFIQ6j"},success:function(e){console.log("json",e),t.address_detail=e.result.formatted_address},error:function(){alert("失败")}})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"nodata",rawName:"v-nodata",value:t.nodata,expression:"nodata"}],ref:"BaiduMapNavigation",attrs:{id:"BaiduMapNavigation"}},[n("div",{attrs:{id:"all"}},[n("a-input",{staticClass:"input-with-select",staticStyle:{color:"blue"},attrs:{placeholder:"请输入搜索地址",id:"suggestId",name:"address_detail"},model:{value:t.address_detail,callback:function(e){t.address_detail=e},expression:"address_detail"}}),t._v(" "),n("div",{attrs:{id:"allmap"}})],1)])},staticRenderFns:[]};var s=n("VU/8")(i,l,!1,function(t){n("lTYC")},null,null);e.default=s.exports},lTYC:function(t,e){}});